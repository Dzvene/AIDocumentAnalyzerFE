# API Integration Guide

## üìã –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ:**

1. **–¢–∏–ø—ã TypeScript** - –°–æ–∑–¥–∞–Ω—ã –ø–æ–ª–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞:
   - `Product` - —Ç–æ–≤–∞—Ä—ã —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (—Ü–µ–Ω–∞, —Å–∫–∏–¥–∫–∏, —Ä–µ–π—Ç–∏–Ω–≥, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –º–∞–≥–∞–∑–∏–Ω)
   - `Shop` - –º–∞–≥–∞–∑–∏–Ω—ã (–æ–ø–∏—Å–∞–Ω–∏–µ, —Ä–µ–π—Ç–∏–Ω–≥, –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏, –∞–¥—Ä–µ—Å, —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã)
   - `Category` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ (–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
   - `Cart` & `CartItem` - –∫–æ—Ä–∑–∏–Ω–∞ –∏ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ
   - `Order` - –∑–∞–∫–∞–∑—ã —Å–æ –≤—Å–µ–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π
   - `DeliveryAddress` - –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏

2. **API Services** - –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–µ API —Å–µ—Ä–≤–∏—Å—ã:
   - `productsApi` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏, –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã, –æ—Ç–∑—ã–≤—ã
   - `shopsApi` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞–º–∏, –ø–æ–∏—Å–∫ –ø–æ –ª–æ–∫–∞—Ü–∏–∏
   - `cartApi` - –∫–æ—Ä–∑–∏–Ω–∞, –∫—É–ø–æ–Ω—ã, —Ä–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏
   - `ordersApi` - –∑–∞–∫–∞–∑—ã, —Å—Ç–∞—Ç—É—Å—ã, –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
   - `authApi` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—É–∂–µ –±—ã–ª–æ)

3. **Redux State Management:**
   - `cartSlice` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–æ—Ä–∑–∏–Ω—ã —Å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º store

4. **UI Integration:**
   - Home –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è "–í –∫–æ—Ä–∑–∏–Ω—É" —Å Redux integration
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ loading —Å–æ—Å—Ç–æ—è–Ω–∏–π

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±—ç–∫–µ–Ω–¥–æ–º

### 1. Environment Variables
–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
VITE_API_BASE_URL=http://localhost:8000/api
```

### 2. –ë–∞–∑–æ–≤—ã–π URL API
URL –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `src/constants/common.ts`:
```typescript
export const API_BASE_URL = process.env.VITE_API_BASE_URL || 'http://localhost:8000/api'
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
HTTP –∫–ª–∏–µ–Ω—Ç —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Bearer —Ç–æ–∫–µ–Ω–æ–≤ –∫ –∑–∞–ø—Ä–æ—Å–∞–º
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å—Ç–µ–∫—à–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
- –†–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ /login –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üì° –î–æ—Å—Ç—É–ø–Ω—ã–µ API endpoints

### Products
- `GET /products` - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `GET /products/featured` - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–æ–≤–∞—Ä—ã
- `GET /products/:id` - –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä –ø–æ ID
- `POST /products` - —Å–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä

### Categories  
- `GET /categories` - —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `GET /categories/top` - —Ç–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π
- `GET /categories/:id/products` - —Ç–æ–≤–∞—Ä—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### Shops
- `GET /shops` - —Å–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤
- `GET /shops/featured` - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã
- `GET /shops/nearby` - –±–ª–∏–∂–∞–π—à–∏–µ –º–∞–≥–∞–∑–∏–Ω—ã
- `GET /shops/:slug` - –º–∞–≥–∞–∑–∏–Ω –ø–æ slug

### Cart
- `GET /cart` - –ø–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
- `POST /cart/items` - –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
- `PATCH /cart/items/:id` - –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `DELETE /cart/items/:id` - —É–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã

### Orders
- `GET /orders/my` - –º–æ–∏ –∑–∞–∫–∞–∑—ã
- `POST /orders` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
- `GET /orders/:id` - –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
- `PATCH /orders/:id/status` - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```typescript
import { productsApi, shopsApi } from '@api'

const [products, setProducts] = useState<Product[]>([])
const [loading, setLoading] = useState(true)

useEffect(() => {
  const fetchData = async () => {
    try {
      const data = await productsApi.getFeaturedProducts(12)
      setProducts(data)
    } catch (error) {
      console.error('Error:', error)
    } finally {
      setLoading(false)
    }
  }
  fetchData()
}, [])
```

### –†–∞–±–æ—Ç–∞ —Å –∫–æ—Ä–∑–∏–Ω–æ–π
```typescript
import { useDispatch } from 'react-redux'
import { addToCart } from '@store/slices/cartSlice'

const dispatch = useDispatch()

const handleAddToCart = async (product: Product) => {
  try {
    await dispatch(addToCart({
      productId: product.id,
      quantity: 1
    })).unwrap()
  } catch (error) {
    console.error('Failed to add to cart:', error)
  }
}
```

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥** - –∑–∞–º–µ–Ω–∏—Ç–µ –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ API –≤—ã–∑–æ–≤—ã
2. **–î–æ–±–∞–≤—å—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –æ—à–∏–±–æ–∫
3. **–û–±–Ω–æ–≤–∏—Ç–µ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - Cart, Search, Shop, Categories
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ config.ts          # HTTP –∫–ª–∏–µ–Ω—Ç —Å interceptors
‚îÇ   ‚îú‚îÄ‚îÄ authApi.ts         # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è  
‚îÇ   ‚îú‚îÄ‚îÄ productsApi.ts     # –¢–æ–≤–∞—Ä—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ shopsApi.ts        # –ú–∞–≥–∞–∑–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ cartApi.ts         # –ö–æ—Ä–∑–∏–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ ordersApi.ts       # –ó–∞–∫–∞–∑—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # Exports
‚îú‚îÄ‚îÄ types/interfaces/
‚îÇ   ‚îú‚îÄ‚îÄ product.ts         # Product, Category, Review types
‚îÇ   ‚îú‚îÄ‚îÄ shop.ts            # Shop types
‚îÇ   ‚îú‚îÄ‚îÄ cart.ts            # Cart & CartItem types
‚îÇ   ‚îú‚îÄ‚îÄ order.ts           # Order & OrderStatus types
‚îÇ   ‚îî‚îÄ‚îÄ common.ts          # Base types
‚îú‚îÄ‚îÄ store/slices/
‚îÇ   ‚îú‚îÄ‚îÄ authSlice.ts       # Auth state
‚îÇ   ‚îú‚îÄ‚îÄ cartSlice.ts       # Cart state (–Ω–æ–≤—ã–π)
‚îÇ   ‚îî‚îÄ‚îÄ themeSlice.ts      # Theme state
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤ –∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è